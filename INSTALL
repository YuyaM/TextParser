/*
 * TextParser - Text Parsing Library
 *
 * Copyright (C) 2012-2013 Institute of Industrial Science, The University of Tokyo.
 * All rights reserved.
 *
 */


HOW TO BUILD
============


(1) by configure

$ ./configure 
$ã€€make 
$ sudo make install or # make install 


configure options

 --prefix=PREFIX
    Specify the directory that this library will be installed. Default directory is 
    /usr/local/TextParser. Built library will be installed at $(PREFIX)/lib and header files 
    are placed at $(PREFIX)/include.

 --with-comp=(INTEL|FJ)
    If Intel compiler is used, choose INTEL, and if Fujitsu compiler, specify FJ. This option 
    is mandatory when using either compiler to build Fortran API.

 --with-mpich=MPICH_DIR
    If you will use a MPICH library, specify the directory that MPICH library is installed.
    Either --with-mpich of --with-ompi option will be required except. If the wrapper compiler,
    e.g., mpic++ or mpicxx is used to compile, both options can be eliminated.

 --with-ompi=OPENMPI_DIR
    If you will use an OpenMPI library, specify the directory path of OpenMPI.

 CXX 
   Specify C++ compiler or a wrapper compiler for MPI. If a wrapper compiler is specified, 
   set string as CXX=mpiCC without directory prefix. To do so, please set path before compilation.

 CXXFLAGS
   Specify C++ compiler option.




Here is some examples;

## Serial version

  $ ./configure CXX=icpc CXXFLAGS=-O3


## Intel compiler and MPICH

  $ ./configure --prefix=/usr/local/TextParser \
                --with-mpich=/usr/local/mpich \
                CXX=icpc \
                CXXFLAGS=-O3


## OpenMPI with wrapper compiler, assume that mpicxx is a wrapper compiler for OpenMPI.

  $ ./configure CXX=mpicxx CXXFLAGS=-O3


## K-computer

  $ ./configure --prefix=$1 \
                --host=sparc64-unknown-linux-gnu \
                CXX=mpiFCCpx \
                CXXFLAGS="-Kfast"


/*
Both of shared(*.so) and static(*.a) libraries are build and installed.
At linking, adding -LPREFIX/lib -lTextParser (-lTextParser_f90api -lTextParser_mpi),
shared or static library will be liked by choosing link option -shared or -static.
If a shared library is used, LD_LIBRARY_PATH or setting of ldconfig must be required.
*/



(2) by Makefile_hand

$ make -f Makefile_hand


>> note
  Before building, execute following command for clean.
  $ make distclean

Available target
 mpi  Build a library for MPI. Default is disable.

 f90 api  Specify to build API for fortran90. Default is disable.

Build library is only static library and installed lib/ directory.



Examples
========


example 1

 $ g++ -o myprog myprog.cpp -I/usr/local/TextParser/include -L/usr/local/TextParser/lib \
   -lTextParser


 Linking shared library, following environment will be demanded.

 bash)
 $ export LD_LAIBRARY_PATH=$LD_LAIBRARY_PATH:/usr/local/TextParser/lib


example 2

 $ gcc -o myprog myprog.c -I/usr/local/TextParser/include -L/usr/local/TextParser/lib \
   -lTextParser -lstdc++


example 3

 $ gfortran -o myprog myprog.f90 -I/usr/local/TextParser/include -L/usr/local/TextParser/lib \
   -lTextParser -lTextParser_f90api -lstdc++

